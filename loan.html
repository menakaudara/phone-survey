<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Application</title>
    <script src="https://www.google.com/recaptcha/api.js?render=6LfU4v8qAAAAAKKY3IjtE-uppX-oH_Ev_CMp0dKr"></script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 20px; background-color: #f4f4f4; }
        .container { max-width: 500px; margin: auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1); }
        h2 { border-bottom: 2px solid #007BFF; padding-bottom: 10px; }
        input, select, button { width: 100%; padding: 10px; margin: 10px 0; }
        button { background-color: #28a745; color: white; border: none; cursor: pointer; font-size: 16px; }
        button:hover { background-color: #218838; }
        .back-btn { background-color: #007BFF; }
        .back-btn:hover { background-color: #0056b3; }
        .lang-btn { cursor: pointer; color: blue; text-decoration: underline; margin: 10px; display: inline-block; }
        #success-message { display: none; color: green; font-weight: bold; margin-top: 20px; }
    </style>
</head>
<body>

    <div class="container">
        <h2 id="loan-title">Loan Application</h2>
        
        <div>
            <span class="lang-btn" onclick="setLanguage('en')">English</span> | 
            <span class="lang-btn" onclick="setLanguage('si')">සිංහල</span>
        </div>

        <form id="loan-form" action="https://phoneusagesurvey.zingobingo123.workers.dev" method="POST">
            <input type="text" name="name" id="name" maxlength="100" required><br>
            <input type="text" name="nic" id="nic" maxlength="20" required><br>
            <input type="text" name="address" id="address" maxlength="200" required><br>
            
            <label for="district" id="district-label">Select District</label>
            <select name="district" id="district" required>
                <option value="">Select District</option>
                <option value="Colombo">Colombo</option>
                <option value="Gampaha">Gampaha</option>
                <option value="Galle">Galle</option>
                <option value="Matara">Matara</option>
            </select><br>
            
            <input type="text" name="bankBranch" id="bankBranch" maxlength="20" required><br>
            
            <label for="loanScheme" id="loanScheme-label">Select Loan Scheme</label>
            <select name="loanScheme" id="loanScheme" required>
                <option value="">Select Loan Scheme</option>
                <option value="Scheme1">Scheme 1</option>
                <option value="Scheme2">Scheme 2</option>
                <option value="Scheme3">Scheme 3</option>
                <option value="Scheme4">Scheme 4</option>
            </select><br>
            
            <input type="text" name="loanNo" id="loanNo" maxlength="20" required><br>
            
            <label for="victim" id="victim-label">Are you a victim?</label>
            <select name="victim" id="victim" required>
                <option value="">Are you a victim?</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select><br>
            
            <input type="text" name="remarks" id="remarks" maxlength="200"><br>
            
            <input type="hidden" name="recaptcha_response" id="recaptchaResponse">

            <button type="submit" id="submitBtn">Submit</button>
            <button type="button" class="back-btn" onclick="window.location.href='index.html'">Back to Home</button>
        </form>

        <p id="success-message">✅ Your loan details have been submitted successfully! Redirecting...</p>
    </div>

    <script>
        const translations = {
            en: {
                "loan-title": "Loan Application",
                "submitBtn": "Submit",
                "name": "Your Name",
                "nic": "NIC Number",
                "address": "Address",
                "district-label": "Select District",
                "bankBranch": "Bank Branch",
                "loanScheme-label": "Select Loan Scheme",
                "loanNo": "Loan Number",
                "victim-label": "Are you a victim?",
                "remarks": "Remarks",
                "back-btn": "Back to Home",
                "success-message": "✅ Your loan details have been submitted successfully! Redirecting..."
            },
            si: {
                "loan-title": "ණය අයදුම්පත",
                "submitBtn": "ඉදිරිපත් කරන්න",
                "name": "ඔබගේ නම",
                "nic": "ජාතික හැඳුනුම්පත",
                "address": "ලිපිනය",
                "district-label": "දිස්ත්‍රික්කය තෝරන්න",
                "bankBranch": "බැංකු ශාඛාව",
                "loanScheme-label": "ණය යෝජනා ක්‍රමය තෝරන්න",
                "loanNo": "ණය අංකය",
                "victim-label": "ඔබට හානි වියද?",
                "remarks": "සටහන්",
                "back-btn": "මුල් පිටුවට",
                "success-message": "✅ ඔබගේ දත්ත සාර්ථකව ඉදිරිපත් විය! නැවත යොමුවෙමින්..."
            }
        };

        function setLanguage(lang) {
            localStorage.setItem("preferredLanguage", lang);
            applyLanguage(lang);
        }

        function applyLanguage(lang) {
            document.getElementById("loan-title").innerText = translations[lang]["loan-title"];
            document.getElementById("submitBtn").innerText = translations[lang]["submitBtn"];
            document.getElementById("name").placeholder = translations[lang]["name"];
            document.getElementById("nic").placeholder = translations[lang]["nic"];
            document.getElementById("address").placeholder = translations[lang]["address"];
            document.getElementById("district-label").innerText = translations[lang]["district-label"];
            document.getElementById("bankBranch").placeholder = translations[lang]["bankBranch"];
            document.getElementById("loanScheme-label").innerText = translations[lang]["loanScheme-label"];
            document.getElementById("loanNo").placeholder = translations[lang]["loanNo"];
            document.getElementById("victim-label").innerText = translations[lang]["victim-label"];
            document.getElementById("remarks").placeholder = translations[lang]["remarks"];
            document.getElementById("success-message").innerText = translations[lang]["success-message"];
        }

        function loadLanguage() {
            const savedLang = localStorage.getItem("preferredLanguage") || "en";
            applyLanguage(savedLang);
        }

        window.onload = loadLanguage;

        document.getElementById("loan-form").onsubmit = function(event) {
            event.preventDefault();
            document.getElementById("success-message").style.display = "block";
            setTimeout(() => {
                window.location.href = "index.html";
            }, 3000);
        };
    </script>

</body>
</html>
